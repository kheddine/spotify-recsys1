// Mock Spotify tracks data - for GitHub Pages (no backend needed)
export const mockTracks = [
  // Energetic/Dance
  {
    name: "Blinding Lights",
    artist: "The Weeknd",
    genre: "Synthwave",
    popularity: 95,
    index: 0,
    acousticness: 0.1,
    danceability: 0.8,
    energy: 0.8,
    instrumentalness: 0.0,
    liveness: 0.1,
    loudness: -4.5,
    speechiness: 0.05,
    tempo: 174,
    valence: 0.7
  },
  {
    name: "Levitating",
    artist: "Dua Lipa",
    genre: "Disco-Pop",
    popularity: 92,
    index: 1,
    acousticness: 0.05,
    danceability: 0.9,
    energy: 0.7,
    instrumentalness: 0.0,
    liveness: 0.08,
    loudness: -4.2,
    speechiness: 0.04,
    tempo: 103,
    valence: 0.9
  },
  {
    name: "Good as Hell",
    artist: "Lizzo",
    genre: "Hip Hop",
    popularity: 88,
    index: 2,
    acousticness: 0.05,
    danceability: 0.7,
    energy: 0.8,
    instrumentalness: 0.0,
    liveness: 0.12,
    loudness: -5.0,
    speechiness: 0.08,
    tempo: 164,
    valence: 0.9
  },
  // Chill/Acoustic
  {
    name: "Sunroof",
    artist: "Nicky Youre",
    genre: "Indie Pop",
    popularity: 85,
    index: 3,
    acousticness: 0.3,
    danceability: 0.6,
    energy: 0.6,
    instrumentalness: 0.05,
    liveness: 0.15,
    loudness: -6.5,
    speechiness: 0.03,
    tempo: 120,
    valence: 0.8
  },
  {
    name: "Skinny Love",
    artist: "Bon Iver",
    genre: "Indie Folk",
    popularity: 80,
    index: 4,
    acousticness: 0.7,
    danceability: 0.35,
    energy: 0.35,
    instrumentalness: 0.0,
    liveness: 0.18,
    loudness: -8.0,
    speechiness: 0.025,
    tempo: 166,
    valence: 0.3
  },
  // Sad/Melancholic
  {
    name: "Anti-Hero",
    artist: "Taylor Swift",
    genre: "Pop",
    popularity: 93,
    index: 5,
    acousticness: 0.1,
    danceability: 0.7,
    energy: 0.7,
    instrumentalness: 0.0,
    liveness: 0.08,
    loudness: -4.8,
    speechiness: 0.05,
    tempo: 176,
    valence: 0.4
  },
  {
    name: "Someone Like You",
    artist: "Adele",
    genre: "Soul",
    popularity: 90,
    index: 6,
    acousticness: 0.8,
    danceability: 0.3,
    energy: 0.2,
    instrumentalness: 0.0,
    liveness: 0.1,
    loudness: -5.5,
    speechiness: 0.03,
    tempo: 68,
    valence: 0.1
  },
  // Electronic/High Energy
  {
    name: "Midnight City",
    artist: "M83",
    genre: "Synthwave",
    popularity: 82,
    index: 7,
    acousticness: 0.0,
    danceability: 0.65,
    energy: 0.8,
    instrumentalness: 0.3,
    liveness: 0.15,
    loudness: -4.3,
    speechiness: 0.0,
    tempo: 128,
    valence: 0.7
  },
  {
    name: "Uptown Funk",
    artist: "Mark Ronson ft. Bruno Mars",
    genre: "Funk Pop",
    popularity: 94,
    index: 8,
    acousticness: 0.05,
    danceability: 0.85,
    energy: 0.85,
    instrumentalness: 0.05,
    liveness: 0.08,
    loudness: -4.0,
    speechiness: 0.06,
    tempo: 104,
    valence: 0.8
  },
  // Happy/Upbeat
  {
    name: "Walking on Sunshine",
    artist: "Katrina & The Waves",
    genre: "New Wave",
    popularity: 78,
    index: 9,
    acousticness: 0.15,
    danceability: 0.75,
    energy: 0.85,
    instrumentalness: 0.0,
    liveness: 0.25,
    loudness: -4.2,
    speechiness: 0.04,
    tempo: 104,
    valence: 0.95
  },
  {
    name: "Don't Stop Me Now",
    artist: "Queen",
    genre: "Rock",
    popularity: 88,
    index: 10,
    acousticness: 0.0,
    danceability: 0.6,
    energy: 0.95,
    instrumentalness: 0.0,
    liveness: 0.2,
    loudness: -3.5,
    speechiness: 0.08,
    tempo: 200,
    valence: 0.9
  },
  // Relaxing/Peaceful
  {
    name: "Weightless",
    artist: "Marconi Union",
    genre: "Ambient",
    popularity: 65,
    index: 11,
    acousticness: 0.5,
    danceability: 0.0,
    energy: 0.1,
    instrumentalness: 0.95,
    liveness: 0.0,
    loudness: -15.0,
    speechiness: 0.0,
    tempo: 60,
    valence: 0.3
  },
  {
    name: "Clarinette",
    artist: "Yael Naim",
    genre: "Indie Folk",
    popularity: 70,
    index: 12,
    acousticness: 0.6,
    danceability: 0.45,
    energy: 0.35,
    instrumentalness: 0.05,
    liveness: 0.12,
    loudness: -7.0,
    speechiness: 0.03,
    tempo: 90,
    valence: 0.6
  },
  // Fast/Tempo
  {
    name: "Blitzkrieg Bop",
    artist: "Ramones",
    genre: "Punk Rock",
    popularity: 75,
    index: 13,
    acousticness: 0.0,
    danceability: 0.5,
    energy: 0.9,
    instrumentalness: 0.0,
    liveness: 0.3,
    loudness: -3.8,
    speechiness: 0.05,
    tempo: 180,
    valence: 0.7
  },
  // Slow/Ballad
  {
    name: "The Night We Met",
    artist: "Lord Huron",
    genre: "Indie",
    popularity: 81,
    index: 14,
    acousticness: 0.75,
    danceability: 0.25,
    energy: 0.25,
    instrumentalness: 0.05,
    liveness: 0.1,
    loudness: -8.5,
    speechiness: 0.03,
    tempo: 75,
    valence: 0.4
  }
];

// Mock recommendation logic based on mood keywords
export const getMockRecommendations = (mood) => {
  const moodLower = mood.toLowerCase();
  
  // Map moods to track indices
  const moodMap = {
    'energetic': [0, 1, 2, 8, 9, 10],      // High energy
    'dance': [0, 1, 2, 8, 13],             // Danceable
    'happy': [1, 2, 8, 9, 10],             // Happy/positive
    'upbeat': [0, 1, 9, 10],               // Upbeat
    'sad': [4, 5, 6],                      // Sad/melancholic
    'slow': [6, 11, 12, 14],               // Slow tempo
    'acoustic': [3, 4, 6, 12, 14],         // Acoustic
    'chill': [3, 4, 11, 12, 14],           // Chill/relaxing
    'relax': [11, 12],                     // Relaxing
    'fast': [0, 10, 13],                   // Fast tempo
    'quiet': [11, 12, 14],                 // Quiet/low loudness
    'loud': [0, 8, 9, 10, 13],             // Loud/energetic
    'electronic': [0, 7, 8],               // Electronic
    'rock': [10, 13],                      // Rock
    'pop': [1, 2, 5, 8, 9],                // Pop
    'indie': [3, 4, 7, 12, 14],            // Indie
  };
  
  // Find matching tracks
  let selectedIndices = new Set();
  
  for (const [key, indices] of Object.entries(moodMap)) {
    if (moodLower.includes(key)) {
      indices.forEach(i => selectedIndices.add(i));
    }
  }
  
  // If no matches, return random tracks
  if (selectedIndices.size === 0) {
    selectedIndices = new Set([
      Math.floor(Math.random() * mockTracks.length),
      Math.floor(Math.random() * mockTracks.length),
      Math.floor(Math.random() * mockTracks.length)
    ]);
  }
  
  // Convert to array and return top 5
  const recommendations = Array.from(selectedIndices)
    .map(idx => ({
      ...mockTracks[idx],
      similarity: 0.75 + Math.random() * 0.25 // Random similarity 0.75-1.0
    }))
    .slice(0, 5);
  
  return recommendations;
};

// Shuffle array helper
export const shuffleArray = (array) => {
  const shuffled = [...array];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
};
